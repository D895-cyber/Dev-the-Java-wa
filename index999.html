<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>
    <body>
        <h1 id="heading1">1</h1>
        <h1 id="heading2">2</h1>
        <h1 id="heading3">3</h1>
        <h1 id="heading4">4</h1>
        <h1 id="heading5">5</h1>
        <h1 id="heading6">6</h1>
        <h1 id="heading7">7</h1>
        <h1 id="heading8">8</h1>
        <script>
        // let heading1 = document.getElementById("heading1")
        // setTimeout(()=>{
        //     heading1.style.color = "green"
        //     setTimeout(() => {
        //             heading2.style.color = "red"
        //             setTimeout(() => {
        //                 heading3.style.color = "blue"
        //                 setTimeout(() => {
        //                     heading4.style.color = "yellow"
        //                     setTimeout(() => {
        //                         heading5.style.color = "purple"
        //                         setTimeout(() => {
        //                             heading6.style.color = "orange"
        //                             setTimeout(() => {
        //                                 heading7.style.color = "pink"
        //                                 setTimeout(() => {
        //                                     heading8.style.color = "black"
        //                                 },1000)
        //                             },1000)
        //                         },1000)
        //                     },1000)

        //                 },1000)
                        
        //             },1000)

        //     },1000)
        // },1000)
        function changeColor(element,text,color,time){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    if(element){
                        element.textContent = text
                        element.style.color = color
                        resolve()
                    }
                    else {
                        reject()
                    }
                    
                },time)
            })
        }
        // changeColor(heading1,`one`,`blue`,1000).then(()=>changeColor(heading2,`two`,`red`,1000)).then(()=>changeColor(heading3,`theree`)).catch((err)=>{
        //     console.log(err)
        // })
        (async function () {
            try {
            await changeColor(heading1,`one`,`blue`,1000)
            await changeColor(heading2,`two`,`yellow`,1000)
            await changeColor(heading3,`three`,`red`,1000)
            await changeColor(heading4,`four`,`orange`,1000)
            await changeColor(heading5,`five`,`pink`,1000)
            await changeColor(heading6,`six`,`green`,1000)
            await changeColor(heading7,`seven`,`purple`,1000)
            await changeColor(heading8,`eight`,`peach`,1000)
            }
            catch(err){
                console.log(err)
            }
            finally {
                console.log("all done")
            }
        })()
    </script>
    </body>
</html>

<!-- 
Callback hell 
Pyramid of doom
Nested callbacks
Callback nesting
Callback pyramid -->
